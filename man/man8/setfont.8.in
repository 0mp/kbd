.\" @(#)man/man8/setfont.8	1.0 981121
.TH SETFONT 8 "21 Nov 1998" "Local" "International Support"
.SH NAME
setfont \- load EGA/VGA console screen font
.SH SYNOPSIS
.B setfont
.RI "[-O " "font+umap.orig" ]
.RI "[-o " "font.orig" "] [-om " "cmap.orig" "] [-ou " "umap.orig" ]
.RI "[-" "N" "] [" "font.new ..." ]
.RI "[-m " "cmap" ]
.RI "[-u " "umap" ]
.RI "[-h" "H" ]
.RI "[-v] [-V]"
.IX "setfont command" "" "\fLsetfont\fR command"
.SH DESCRIPTION
The
.B setfont
command loads a font into the EGA/VGA character generator,
and optionally outputs the previous font.
This command reads an 8xN font from the file
.I font.new
and loads it into the character generator memory. Usually the font size N
will be clear from the file size, but if the input file has
code page format (probably with suffix .cp), containing three fonts
with sizes 8x8, 8x14 and 8x16, then one of the options \-8 or \-14 or \-16
must be used to select one.
If no args are given (or only the option
.RI \- N
for some number
.IR N ),
then a default font is loaded (see below).
One may give several fonts small fonts, all containing
a unicode table, and
.B setfont will combine them and load the union.
With the \-v option,
.B setfont
will be verbose.
With the \-V option, it prints its version and exits.
.PP
The program
.B setfont
has no built-in knowledge of VGA video modes, but just asks
the kernel to load the character ROM of the video card with
certain bitmaps. However, since Linux 1.3.1 the kernel knows
enough about EGA/VGA video modes to select a different line
distance. The default character height will be the number
.I N
inferred from the font or specified by option. However, the
user can specify a different character height
.I H
using the \-h option.
.PP
Font files are binary files of size 256*N bytes, containing
bit images for each of 256 characters, one byte per scan line, and
N bytes per character (0 < N <= 32).
Also .psf files are accepted; these files have the same format
but an additional header, and may have an arbitrary number of
characters, and additional Unicode mapping info.

The ordering of the symbols in the font is described by a
mapping table. Some fonts have a mapping table included in
the font file, and
.I setfont
will load such a mapping table. If no explicit mapping
table is included in the font, and no mapping table is
provided using the -m option, the `trivial' mapping is assumed.
In any case the mapping table just loaded is activated
by outputting the string Esc ( K.
Giving a
.I "-m none"
argument inhibits the loading and activation of a mapping table.
The previous mapping table can be saved to a file using the
.I "-om file"
option.
These options of setfont render mapscrn(8) obsolete.

The correspondence between the glyphs in the font and
Unicode values is described by a Unicode mapping table.
Some fonts have a Unicode mapping table included in
the font file, and an explicit table can be indicated using
the -u option.
.I Setfont
will load such a Unicode mapping table, unless a
.I "-u none"
argument is given. The previous Unicode mapping table
will be saved as part of the saved font file when the \-O
option is used. It can be saved to a separate file using the
.RI "-ou " file
option.

One may add a Unicode mapping table to a psf font using
.IR psfaddtable (1).

.SH FILES
.I @datadir@/consolefonts
is the default font directory.
.I @datadir@/unimaps
is the default directory for unicode maps.
.I @datadir@/consoletrans
is the default directory for screen mappings.
The default font is a file
.I default
(or
.IR default8x N
if the \-N option was given for some number N)
perhaps with suitable extension (like .psf).
.SH "SEE ALSO"
.BR psfaddtable (1),
.BR mapscrn (8)
.\" .SH "AUTHORS"
.\" Eugene G. Crosser (crosser@pccross.msk.su)
.\" .br
.\" Andries E. Brouwer (aeb@cwi.nl)
