<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Keyboard scancodes: Special keyboards</TITLE>
 <LINK HREF="scancodes-3.html" REL=next>
 <LINK HREF="scancodes-1.html" REL=previous>
 <LINK HREF="scancodes.html#toc2" REL=contents>
</HEAD>
<BODY>
<A HREF="scancodes-3.html">Next</A>
<A HREF="scancodes-1.html">Previous</A>
<A HREF="scancodes.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2. Special keyboards</A></H2>

<P>
<P>
<H2><A NAME="ss2.1">2.1 Focus KeyPro FK-9000 keyboard</A>
</H2>

<P>Raul D. Miller &lt;rockwell@nova.umd.edu&gt;
and &lt;hagmanti@cps.msu.edu&gt; report:
<P><I>The keyboard is a KeyPro FK-9000.  The FCC label says it's made in
Taiwan by Focus Electronic Co, Ltd.  It has a built-in calculator.</I>
<P><I>This keyboard has twelve additional keys, with scancodes</I>
<B>55</B> (PF1),
<B>6d</B> (PF11),
<B>6f</B> (PF12),
<B>73</B> (PF2),
<B>74</B> (PF9),
<B>77</B> (PF3),
<B>78</B> (PF4),
<B>79</B> (PF5),
<B>7a</B>* (PF6),
<B>7b</B> (PF7),
<B>7c</B> (PF8),
<B>7e</B>* (PF10).
<P><I>The break codes equal the make codes ORed with 0x80, as always,
but the Linux kernel eats <B>fa</B> and <B>fe</B> as
protocol bytes.</I>
<P><I>The behavior of these keys is different from that of normal keys--
they generate nothing when pressed; then generate the above scancodes
at the normal repeat time and rate, and then generate (except for the
starred ones) their scancode ORed with 0x80 when released...</I>
<P><I>These PF keys are reprogrammable -- and programming occurs as a sequence
of keyboard actions.  Therefore, the PF keys duplicate whatever
keyboard actions occurred during their programming.
You hit the "Prog" key, then the PF key you want to program; type the
string you want to store in the key (it's limited to 14 keypresses),
and then hit the PF key again. After that, when you hit the PF key,
it sends the string, and generates its own abnormal scancode upon
release. When the key is held down, it generates the scancode repeatedly,
but does not generate the string stored in it repeatedly.</I>
<P><I>When you go to program a key, the scancodes for "PF##-" are sent
to the computer, then the scancodes for each key you hit as you
hit it (the shift, etc. keys are an exception-- they send "s-"
and such :), and then, when you hit the PF## key again to end the
programming, it sends a sequence of (at least) 18 "0e 8e"s --
Backspaces...</I>
<P><I>The program key itself doesn't generate a scancode at any time.
The same applies to the CE and AC/ON keys (part of the calculator).
There is a switch to change between calculator and keyboard mode
which generates no scancodes.</I>
<P><I>When the keyboard is in calculator mode, the entire numeric
keypad (and everything else on the right side) generates no
scancodes.</I>
<P><I>When the keyboard is not in caluclator mode, the %, MC, MR, M-,
M+, and Square Root keys all generate 0xff when pressed,
0xff to repeat, and 0xff on release.</I>
<P><I>The little unlabeled key between the right Ctrl and right Alt
generates <B>56</B> when hit, repeats that, and then <B>d6</B>
when released, just like a normal key.</I>
<P>
<P>
<H2><A NAME="ss2.2">2.2 BTC keyboard</A>
</H2>

<P>This keyboard has one additional key, with escaped scancode
<B>e0</B> <B>6f</B> (Macro).
<P>
<H2><A NAME="ss2.3">2.3 LK450 keyboard</A>
</H2>

<P>This keyboard has six additional keys, with escaped scancodes
<B>e0</B> <B>3d</B> (F13),
<B>e0</B> <B>3e</B> (F14),
<B>e0</B> <B>3f</B> (Help),
<B>e0</B> <B>40</B> (Do),
<B>e0</B> <B>41</B> (F17),
<B>e0</B> <B>4e</B> (Keypad-minplus).
<P>
<H2><A NAME="ss2.4">2.4 OmniKey keyboard</A>
</H2>

<P>This keyboard has one additional key, with escaped scancode
<B>e0</B> <B>4c</B> (Omni).
<P>
<H2><A NAME="ss2.5">2.5 GRiD 2260 keyboard</A>
</H2>

<P>The GRiD 2260 notebook has a key producing the
<B>6c</B> scancode; I do not know the keycap.
<P>
<H2><A NAME="ss2.6">2.6 A Japanese 86/106 keyboard</A>
</H2>

<P>Barry Yip &lt;g609296@cc.win.or.jp&gt; reports:
<P><I>This keyboard has two additional keys, with scancodes
<B>73</B> (\-) and <B>7d</B> (\|).
This kind of keyboard is rather standard in Japan. They are called 106
keyboard. Mine is a notebook so it is 86 keyboard. No specific brand
name.</I>
<P>
<H2><A NAME="ss2.7">2.7 Brazilian keyboard</A>
</H2>

<P>Arnaldo Moura &lt;lumbago@vnet.ibm.com&gt; reports:
<P><I>This keyboard has two unusual keys, with scancodes
<B>73</B> (/?) and <B>7e</B> (Keypad-.).</I>
<P>Also others mention an ABNT keyboard with <B>73</B> and
<B>7e</B> keys, mostly because these keys do not function
with Windows NT 4.0.
<P>ABNT (Associação Brasileira de Normas Tecnicas) and ABNT2
are Brazilian keyboard layout standards. The plain Brazilian
keyboard has 103 keys. I find an ABNT 107 key keyboard announced by
<A HREF="http://www.gertec.com.br/tecpc1.htm">gertec</A>.
with Suspend / Wake-up / Power power management keys.
<I>For enabling these functions, run BIOS setup.</I>
<P>
<H2><A NAME="ss2.8">2.8 RC930 keyboard</A>
</H2>

<P>Torben Fjerdingstad &lt;tfj@olivia.ping.dk&gt; reports:
<P><I>It's an rc930 keyboard, from Regnecentralen/RC International, Now ICL.
This keyboard has four additional keys, with scancodes</I>
<B>59</B> (A1),
<B>5a</B> (A2),
<B>5b</B> (A3),
<B>5c</B> (A4).
<P><I>The rc930/rc931 keyboards are not made anymore, because they had a
problem with fast typists, writing over 400 chars/minute.
Writing 'af&lt;space&gt;', very, very fast, did a PgUp.</I>
<P>
<H2><A NAME="prefix_80"></A> <A NAME="ss2.9">2.9 Tandberg Data keyboard</A>
</H2>

<P>Kjetil Torgrim Homme &lt;kjetilho@ifi.uio.no&gt; reports:
<P><I>My Tandberg Data keyboard uses the prefix <B>80</B> for
its numerous (20) extra keys. The <B>80</B> scancodes are:</I>
<P><B>11</B>, <B>12</B>, <B>13</B>, <B>14</B>, <B>16</B>,
<B>17</B>, <B>18</B>, <B>19</B>, <B>1e</B>, <B>1f</B>,
<B>20</B>, <B>21</B>, <B>22</B>, <B>23</B>, <B>25</B>,
<B>26</B>, <B>2f</B>, <B>30</B>, <B>32</B>, <B>56</B>.
<P><I>For completeness, the <B>e0</B> scancodes:</I>
<P><B>1c</B>, <B>2a</B>, <B>35</B>, <B>37</B>, <B>47</B>,
<B>48</B>, <B>49</B>, <B>4b</B>, <B>4d</B>, <B>4f</B>,
<B>50</B>, <B>51</B>, <B>52</B>, <B>53</B>.
<P><I>The <B>e1</B> scancode: <B>1d</B>.
As you can see, there is no overlap on this keyboard.</I>
<P>
<H2><A NAME="ss2.10">2.10 A keyboard</A>
</H2>

<P><I>Three unusual power keys: <B>e0</B> <B>5e</B>,
<B>e0</B> <B>5f</B>, <B>e0</B> <B>63</B>.</I>
<P>
<H2><A NAME="ss2.11">2.11 Microsoft Natural keyboard</A>
</H2>

<P>This keyboard has three additional keys, with escaped scancodes
<B>e0</B> <B>5b</B> (LeftWindow),
<B>e0</B> <B>5c</B> (RightWindow),
<B>e0</B> <B>5d</B> (Menu).
<P>
<H2><A NAME="ss2.12">2.12 Microsoft Internet keyboard</A>
</H2>

<P>In addition to the three extra keys on the Microsoft Natural keyboard,
this keyboard has ten keys, with escaped scancodes
<B>e0</B> <B>21</B> (Calculator),
<B>e0</B> <B>32</B> (Web/Home),
<B>e0</B> <B>5f</B> (Sleep),
<B>e0</B> <B>65</B> (Search),
<B>e0</B> <B>66</B> (Favorites),
<B>e0</B> <B>68</B> (Stop),
<B>e0</B> <B>69</B> (Forward),
<B>e0</B> <B>6a</B> (Back),
<B>e0</B> <B>6b</B> (My Computer),
<B>e0</B> <B>6c</B> (Mail).
<P>
<H2><A NAME="ss2.13">2.13 Logitech Internet keyboard</A>
</H2>

<P>Jonathan DeBoer &lt;deboer@ugrad.cs.ualberta.ca&gt;
reports Key-down and key-up scancodes for a Logitech Internet keyboard.
<P> 0xe0 0x7a 0xe0 0xfa
<P> 0xe0 0x32 0xe0 0xb2
<P> 0xe0 0x21 0xe0 0xa1
<P> 0xe0 0x23 0xe0 0xa3
<P> 0x38 0x2a 0x0f 0x8f 0x8f 0xb8 0xaa
<P> 0xe0 0x17 0xe0 0x97
<P> 0xe0 0x10 0xe0 0x90
<P> 0xe0 0x22 0xe0 0xa2
<P> 0xe0 0x24 0xe0 0xa4
<P> 0xe0 0x19 0xe0 0x99
<P> 0xe0 0x1e 0xe0 0x9e
<P> 0xe0 0x12 0xe0 0x92
<P> 0xe0 0x26 0xe0 0xa6
<P> 0xe0 0x18 0xe0 0x98
<P> 0xe0 0x20 0xe0 0xa0
<P> 0xe0 0x30 0xe0 0xb0
<P> 0xe0 0x2e 0xe0 0xae
<P> 0xe0 0x25 0xe0 0xa5
<P> (But I have no keycap information.)
<P>
<H2><A NAME="e0_as_key"></A> <A NAME="ss2.14">2.14 A keyboard using e0 as ordinary scancode</A>
</H2>

<P>Benjamin Carter &lt;bcarter@ultra5.cs.umr.edu&gt; reports:
<P><I>I recently came into possession of a 97-key keyboard with Japanese
markings on the keys.  (The keys also have the standard
qwerty-characters on them, with the exception of some of the meta-keys
(there are 3 keys near the Alt keys on either side of the spacebar with
only Japanese characters on them so I don't know what they are).
In any case, the keyboard sends out scancodes that work for all the main
keys (backspace, letters and numbers, enter, shift), but the numeric
keypad, Alt keys, and function keys don't work.
I have run the board through <CODE>showkey -s</CODE>, so I know what
scancodes this keyboard sends out.
However, the F9 and F10 keys send out <B>60</B> and <B>61</B>,
respectively, so their key release events send out <B>e0</B>
and <B>e1</B>, confusing the keyboard driver.</I>
<P># These are across the top of the keyboard.
<P><B>58</B> (F1), <B>59</B> (F2), <B>5a</B> (F3),
<B>5b</B> (F4), <B>5c</B> (F5), <B>5d</B> (F6),
<B>5e</B> (F7), <B>5f</B> (F8), <B>60</B> (F9),
<B>61</B> (F10), <B>62</B> (F11), <B>63</B> (F12)
<P> 
<B>76</B> (Break), <B>77</B> (Setup).
<P> 
# top row
<P><B>64</B> (Esc),
<B>02</B> (1), <B>03</B> (2), <B>04</B> (3),
<B>05</B> (4), <B>06</B> (5), <B>07</B> (6),
<B>08</B> (7), <B>09</B> (8), <B>0a</B> (9),
<B>0b</B> (0), <B>0c</B> (-), <B>0d</B> (=),
<B>29</B> (`), <B>0e</B> (Backspace)
<P>
<P># 2nd row
<P><B>0f</B> (Tab),
<B>10</B> (Q), <B>11</B> (W), <B>12</B> (E),
<B>13</B> (R), <B>14</B> (T), <B>15</B> (Y),
<B>16</B> (U), <B>17</B> (I), <B>18</B> (O),
<B>19</B> (P), <B>1a</B> ([), <B>1b</B> (]),
<B>79</B> (Del), <B>6e</B> (Line Feed)
<P>
<P># 3rd row
<P><B>38</B> (Ctrl),
<B>1e</B> (A), <B>1f</B> (S), <B>20</B> (D),
<B>21</B> (F), <B>22</B> (G), <B>23</B> (H),
<B>24</B> (J), <B>25</B> (K), <B>26</B> (L),
<B>27</B> (;), <B>28</B> ('), <B>75</B> (\),
<B>1c</B> (Return)
<P>
<P># 4th row
<P><B>2a</B> (Shift_L),
<B>2c</B> (Z), <B>2d</B> (X), <B>2e</B> (C),
<B>2f</B> (V), <B>30</B> (B), <B>31</B> (N),
<B>32</B> (M), <B>33</B> (,), <B>34</B> (.),
<B>35</B> (/),
<B>3a</B> ((unknown)),
<B>36</B> (Shift_R)
<P>
<P># bottom row
<P><B>1d</B> (Caps Lock), <B>71</B> (Alt_L),
<B>01</B> ((unknown)),
<B>39</B> (Space),
<B>45</B> ((unknown)),
<B>72</B> (Alt_R),
<B>46</B> ((unknown))
<P>
<P># numeric keypad.  No "grey" section on the keyboard.
<P><B>47</B> (7), <B>48</B> (8), <B>49</B> (9),
<B>54</B> (Keypad -),
<B>4b</B> (4), <B>4c</B> (5), <B>4d</B> (6),
<B>37</B> (Keypad +),
<B>4f</B> (1), <B>50</B> (2), <B>51</B> (3),
<B>4e</B> (Keypad Enter),
<B>52</B> (0),
<B>78</B> (Up),
<B>53</B> (Keypad .),
<B>56</B> (Left),
<B>55</B> (Down),
<B>7d</B> (Right),
<B>7e</B> (Keypad ,).
<P>
<P>There are more keyboards that do not use <B>e0</B> as escape code.
For example, Paul Schulz &lt;pauls@caemrad.com.au&gt;
reports the same for Sun Type 5 Keyboard with PS/2 connector,
NCD model N-123NA. A kernel patch is required for such keyboards.
<P>
<P>
<H2><A NAME="ss2.15">2.15 IBM ThinkPad</A>
</H2>

<P>George Staikos &lt;staikos@0wned.org&gt; writes:
<P><I>I have an IBM ThinkPad i1460. It has the IBM EasyLaunch&lt;tm&gt; keys.
These are four multicoloured keys up at the top of the keyboard
for "Home Page", "Search", "Shop", "Mail".  They dont' seem to create
any keyboard events at all.  The keyboard interrupt doesn't trigger,
<CODE>showkeys</CODE> doesn't see them do anything, and in DOS, a simple
sequence of BIOS calls doesn't see them either.
Also, being a laptop, it has an FN key.  This key generates <B>55</B>.</I>
<P>
<H2><A NAME="ss2.16">2.16 Keyboards with many keys</A>
</H2>

<P>The current mechanism is unable to handle keyboards with more than
127 keys. But such keyboards seem to exist. (So far, nobody has
reported `I have one', but there are several reports saying
`I have heard about someone who has one'.)
<P>Mark Hatle &lt;fray@kernel.crashing.org&gt; wrote:
<P><I>On some ADB keyboards there are actually 128 distinct keys.
They use scancodes 0-127.</I>
<P><I>ADB is Apple Desktop Bus.  The way that ADB works is similar to SCSI but
on a much slower level.  Specifically there is a communications chip in
the computer, ADB controller, and the same chip in the keyboard.  The
keyboard sends the scancode to its internal ADB controller, the internal
ADB controller then does any key mapping needed (not used under linux
from my understanding) and passes the data to the computer.</I>
<P><I>The ADB controller is capable of sending 256 distinct keys, but to my
knowledge only 128 are sent.  The key 0 is the 'a' and key 127 is the
"power button".</I>
<P><I>Also some of the Apple ADB keyboards have special "sound" and "function"
keys.  These keys (used in MacOS for volume up and down, screen contrast
changing, etc) also show up on the ADB scancodes.</I>
<P><I>ADB is used for both m68k and PPC Linux.  The m68k Macintosh port, and
the PPC - Power Macintosh and CHRP ports.</I>
<P>and later:
<P><I>Basically the scancode sequences for ADB are 16 bit. so there can actually
be 65536 scancodes, currently though only 128 are defined.</I>
<P>
<HR>
<A HREF="scancodes-3.html">Next</A>
<A HREF="scancodes-1.html">Previous</A>
<A HREF="scancodes.html#toc2">Contents</A>
</BODY>
</HTML>
